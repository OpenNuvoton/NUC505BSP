[Pad.exe Command format]
   - Usage : [Converter] [Pattern 0/1] [Pad Size (KB)] [Input/Output File]
   - Usage : [Converter] [Pattern 0/1] [Pad Size (KB)] [Input File] [Output File]

[define.h]
If you want to change the Code / EndTag location, please make sure that the following settings of Merge.cmd are consistent with the definition in define.h.

/* Tag Setting */   
#define ISP_ENDTAG_OFFSET      0x05000          /*  20KB - The End Tag is added when Post-Build*/
#define FIRMWARE_ENDTAG_OFFSET 0x80000          /* 512KB - The End Tag is added when Post-Build*/	 
	    
/* Execute Address */   
#define FIRMWARE_CODE_ADDR     0x10000          /* SPI Flash Offset 64KB ; Must be tha sam as the App execute address */
   
/* ISP Code address at SPI Flash */   
#define ISP_CODE_OFFSET        0x08000          /* SPI Flash Offset 32KB */

[Merge.cmd]
/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+
 *   | Loader | 0xFF |
 *   +--------+------+   
 *  0KB            32KB                               
 **********************************************************************************************************************************/

..\..\Loader\Post-build\Pad.exe 1 32 ..\..\Loader\Loader.bin ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+
 *   | Loader | 0xFF | ISP |
 *   +--------+------+-----+                              
 *  0KB            32KB  (ISP_CODE_OFFSET == 32KB)  
 **********************************************************************************************************************************/

copy/B ..\..\ISP_Demo.bin + ..\..\ISP\ISP.bin ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+------+
 *   | Loader | 0xFF | ISP | 0xFF | 
 *   +--------+------+-----+------+
 *  0KB            32KB         52KB                    
 **********************************************************************************************************************************/

..\..\Loader\Post-build\Pad.exe 1 52 ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+------+--------+
 *   | Loader | 0xFF | ISP | 0xFF | ENDTAG | 
 *   +--------+------+-----+------+--------+
 *  0KB            32KB         52KB (ISP_Demo.bin) 
 *                  0KB         20KB (ISP.bin - ISP_ENDTAG_OFFSET is 20KB)                     
 **********************************************************************************************************************************/

copy/B ..\..\ISP_Demo.bin + ..\..\Loader\Post-build\EndTag.bin ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+------+--------+------+
 *   | Loader | 0xFF | ISP | 0xFF | ENDTAG | 0xFF |
 *   +--------+------+-----+------+--------+------+
 *  0KB            32KB         52KB             64KB 
 **********************************************************************************************************************************/

..\..\Loader\Post-build\Pad.exe 1 64 ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+------+--------+------+------------+
 *   | Loader | 0xFF | ISP | 0xFF | ENDTAG | 0xFF | DefaultApp |
 *   +--------+------+-----+------+--------+------+------------+
 *  0KB            32KB         52KB             64KB (FIRMWARE_CODE_ADDR is 64KB)  
 **********************************************************************************************************************************/

copy/B ..\..\ISP_Demo.bin + ..\..\DefaultApp\DefaultApp.bin ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+------+--------+------+------------+------+
 *   | Loader | 0xFF | ISP | 0xFF | ENDTAG | 0xFF | DefaultApp | 0xFF |
 *   +--------+------+-----+------+--------+------+------------+------+
 *  0KB            32KB         52KB             64KB               576KB   
 **********************************************************************************************************************************/

..\..\Loader\Post-build\Pad.exe 1 576 ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 *   ISP_Demo.bin
 *   +--------+------+-----+------+--------+------+------------+------+--------+
 *   | Loader | 0xFF | ISP | 0xFF | ENDTAG | 0xFF | DefaultApp | 0xFF | ENDTAG |
 *   +--------+------+-----+------+--------+------+------------+------+--------+
 *  0KB            32KB         52KB             64KB               576KB (ISP_Demo.bin)   
 *                                                0KB               512KB (DefaultApp.bin - FIRMWARE_ENDTAG_OFFSET is 512KB)
 **********************************************************************************************************************************/

copy/B ..\..\ISP_Demo.bin + ..\..\Loader\Post-build\EndTag.bin ..\..\ISP_Demo.bin

/**********************************************************************************************************************************
 * Copy UpdateApp.bin to the root folder of ISP demo code
 **********************************************************************************************************************************/

copy ..\..\UpdateApp\UpdateApp.bin ..\..\UpdateApp.bin

/**********************************************************************************************************************************
 *   UpdateApp.bin
 *   +-----------+------+
 *   | UpdateApp | 0xFF |
 *   +-----------+------+                               
 *  0KB               512KB 
 **********************************************************************************************************************************/

..\..\Loader\Post-build\Pad.exe 1 512 ..\..\UpdateApp.bin

/**********************************************************************************************************************************
 *   UpdateApp.bin
 *   +-----------+------+--------+
 *   | UpdateApp | 0xFF | ENDTAG |
 *   +-----------+------+--------+                               
 *  0KB               512KB (UpdateApp.bin - FIRMWARE_ENDTAG_OFFSET is 512KB)
 **********************************************************************************************************************************/

copy/B ..\..\UpdateApp.bin + ..\..\Loader\Post-build\EndTag.bin ..\..\UpdateApp.bin

/**********************************************************************************************************************************
 * Copy DefaultApp.bin and rename to UpdateDefaultApp.bin to the root folder of ISP demo code
 **********************************************************************************************************************************/

copy ..\..\DefaultApp\DefaultApp.bin ..\..\UpdateDefaultApp.bin

/**********************************************************************************************************************************
 *   UpdateDefaultApp.bin
 *   +------------------+------+
 *   | UpdateDefaultApp | 0xFF |
 *   +------------------+------+                               
 *  0KB                      512KB 
 **********************************************************************************************************************************/

..\..\Loader\Post-build\Pad.exe 1 512 ..\..\UpdateDefaultApp.bin

/**********************************************************************************************************************************
 *   UpdateDefaultApp.bin
 *   +-----------+------+------+--------+
 *   | UpdateDefaultApp | 0xFF | ENDTAG |
 *   +-----------+------+------+--------+                               
 *  0KB               512KB (UpdateDefaultApp.bin - FIRMWARE_ENDTAG_OFFSET is 512KB)
 *******************************************************************************************************************/

copy/B ..\..\UpdateDefaultApp.bin + ..\..\Loader\Post-build\EndTag.bin ..\..\UpdateDefaultApp.bin

